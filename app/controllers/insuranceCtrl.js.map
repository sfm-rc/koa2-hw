{"version":3,"sources":["../../src/controllers/insuranceCtrl.js"],"names":["add","ctx","next","params","request","body","activity_id","user_name","cer_type","cer_id","sex","birth","mobile","e_contact","e_contact_mobile","sql","data","console","log","code","message"],"mappings":"uSAAA;AACA,iC;;AAEA;;;;;AAKA,IAAMA,yFAAM,iBAAMC,GAAN,EAAWC,IAAX;AACFC,8BADE,GACOF,IAAIG,OAAJ,CAAYC,IADnB;AAEDC,mCAFC,GAE4FH,MAF5F,CAEDG,WAFC,EAEYC,SAFZ,GAE4FJ,MAF5F,CAEYI,SAFZ,EAEuBC,QAFvB,GAE4FL,MAF5F,CAEuBK,QAFvB,EAEiCC,MAFjC,GAE4FN,MAF5F,CAEiCM,MAFjC,EAEyCC,GAFzC,GAE4FP,MAF5F,CAEyCO,GAFzC,EAE8CC,KAF9C,GAE4FR,MAF5F,CAE8CQ,KAF9C,EAEqDC,MAFrD,GAE4FT,MAF5F,CAEqDS,MAFrD,EAE6DC,SAF7D,GAE4FV,MAF5F,CAE6DU,SAF7D,EAEwEC,gBAFxE,GAE4FX,MAF5F,CAEwEW,gBAFxE;AAGFC,2BAHE;AAIYT,mCAJZ,aAI6BC,SAJ7B,cAI6CC,QAJ7C,cAI4DC,MAJ5D,cAIyEC,GAJzE,cAImFC,KAJnF,cAI+FC,MAJ/F;AAKOC,iCALP,cAKuBC,gBALvB,cAK8C,+BAL9C;;AAOS,sDAAMC,GAAN,CAPT,SAOJC,IAPI;AAQRC,gCAAQC,GAAR,CAAY,sBAAZ,EAAoCF,IAApC;AACAf,4BAAII,IAAJ,GAAW,EAACc,MAAM,GAAP,EAAYC,SAAQ,QAApB,EAA8BJ,UAA9B,EAAX,CATQ,mEAAN,yEAAN,C;;;;AAae;AACXhB,YADW,E","file":"insuranceCtrl.js","sourcesContent":["import {query} from '../models/db_connection';\r\nimport { pagination, getLinuxTimeStamp} from '../uitil';\r\n\r\n/**\r\n * 填写保险\r\n * @param {*} ctx \r\n * @param {*} next \r\n */\r\nconst add = async(ctx, next) => {\r\n    const params = ctx.request.body;\r\n    const {activity_id, user_name, cer_type, cer_id, sex, birth, mobile, e_contact, e_contact_mobile} = params;\r\n    const sql = `INSERT into hw_insurance VALUES(\r\n                NULL,'${activity_id}','${user_name}', '${cer_type}', '${cer_id}', '${sex}', '${birth}', '${mobile}', \r\n                '${e_contact}', '${e_contact_mobile}', '${getLinuxTimeStamp()}'\r\n            )`;\r\n    var data = await query(sql);\r\n    console.log('insert hw_insurance:', data);\r\n    ctx.body = {code: 110, message:'保单填写成功', data}\r\n}\r\n\r\n\r\nexport default {\r\n    add,\r\n}"]}